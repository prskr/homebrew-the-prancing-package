# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GitAgeKeyringAgent < Formula
  desc "git-age agent to store and load identities from your OS' keyring
"
  homepage "https://github.com/prskr/git-age-keyring-agent"
  version "0.1.3"
  license "MIT"

  on_macos do
    on_intel do
      url "https://github.com/prskr/git-age-keyring-agent/releases/download/v0.1.3/git-age-keyring-agent_Darwin_x86_64.tar.gz"
      sha256 "b512a791f27d03b8441553078d7f68e6a6073c461f2ce4e207b57a2f283c556e"

      def install
        bin.install "git-age-keyring-agent"
      end
    end
    on_arm do
      url "https://github.com/prskr/git-age-keyring-agent/releases/download/v0.1.3/git-age-keyring-agent_Darwin_arm64.tar.gz"
      sha256 "fa6d9e40f1815089e9603d548309a2ccc480eb1d134cf4eeacdf4805ad121de6"

      def install
        bin.install "git-age-keyring-agent"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/prskr/git-age-keyring-agent/releases/download/v0.1.3/git-age-keyring-agent_Linux_x86_64.tar.gz"
        sha256 "c6a6e3088c8df8bdc91130682569ad383ae3a03e666b14ab7cb234810b02df48"

        def install
          bin.install "git-age-keyring-agent"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/prskr/git-age-keyring-agent/releases/download/v0.1.3/git-age-keyring-agent_Linux_arm64.tar.gz"
        sha256 "f613fffdb78f4e8735f9ef1183d36c376754446ce59dd7751a09981f03927d7b"

        def install
          bin.install "git-age-keyring-agent"
        end
      end
    end
  end

  service do
    run [opt_bin/"git-age-keyring-agent", "serve"]
    keep_alive true
  end

  test do
    system "#{bin}/git-age-keyring-agent --help"
  end
end
